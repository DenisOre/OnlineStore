
@model OnlineStore.Models.ProductEditViewModel
@{
    ViewData["Title"] = "Редактирование товара";
    Layout = "/Views/Shared/_LayoutEmpty.cshtml";
}

<form enctype="multipart/form-data" asp-action="administratorEditProduct" asp-controller="administratorProducts" method="post" asp-route-id="@Model.Product.Id" class="mt-3 col-4 container justify-content-center enter__form">
    <p class="h3 text-center">Редактирование товара</p>
    <div class="mb-3">
        <label for="Id" class="form-label">Id</label>
        <input type="text" class="form-control" disabled id="Id" name="Id" value="@Model.Product.Id">
    </div> 
    <div class="mb-3">
        <label for="Name" class="form-label">Наименование</label>
        <input type="text" class="form-control" required id="Name" name="Name" value="@Model.Product.Name">
        <p class="ErrorMessage">@ViewBag.ErrorName</p>
    </div>
    <div class="mb-3">
        <label for="Price" class="form-label">Цена</label>
        <input type="number" class="form-control" required id="Price" name="Price" value="@Model.Product.Price">
    </div>
    <div class="mb-3">
        <label for="PriceSale" class="form-label">Цена по акции</label>
        <input type="number" class="form-control" required id="PriceSale" name="PriceSale" value="@Model.Product.PriceSale">
    </div>
    <div class="mb-3">
        <label for="category" class="form-label">Категория</label>
        <select class="form-select" required id="category" name="category">            
            @for(int i = 0; i < Model.Categories.Count; i++)
            {
                if (Model.Categories[i].Name == Model.Product.Category.Name)
                {
                    <option selected value="@Model.Categories[i].Name">@Model.Categories[i].Name</option>
                }
                else
                {
                    <option value="@Model.Categories[i].Name">@Model.Categories[i].Name</option>
                }
            }
        </select>
    </div>
    <div class="mb-3">
        <label for="manufacturer" class="form-label">Производитель</label>
        <select class="form-select" required id="manufacturer" name="manufacturer">
            @for(int i = 0; i < Model.Manufacturers.Count; i++)
            {
                if (Model.Manufacturers[i].Name == Model.Product.Manufacturer.Name)
                {
                    <option selected value="@Model.Manufacturers[i].Name">@Model.Manufacturers[i].Name</option>
                }
                else
                {
                    <option value="@Model.Manufacturers[i].Name">@Model.Manufacturers[i].Name</option>
                }
            }
        </select>
    </div>
    <div class="mb-3">
        <label for="InfoAboutProduct" class="form-label">Описание товара</label>
        <textarea class="form-control" id="InfoAboutProduct" required name="InfoAboutProduct">@Model.Product.InfoAboutProduct</textarea>
    </div>
    <div class="mb-3">
        <label for="imagesOfProduct" class="form-label">Изображения товара</label>
        <input type="file" multiple class="form-control" id="imagesOfProduct" name="imagesOfProduct">
    </div>
    <div class="d-flex justify-content-center">
       <input type="submit" class="btn btn-success mb-3 col-4" value="Сохранить"/>
       <input type="button" class="btn btn-danger ms-2 mb-3 col-4" value="Отмена" onclick="location.href = '@Url.Action("AdministratorProducts","AdministratorProducts")';"/>
    </div>
</form>
